<?xml version="1.0" encoding="utf-8"?>
<mx:Module xmlns:fx="http://ns.adobe.com/mxml/2009"
		   xmlns:s="library://ns.adobe.com/flex/spark"
		   xmlns:mx="library://ns.adobe.com/flex/mx"
		   layout="absolute"
		   width="100%"
		   height="100%"
		   creationComplete="doInit()"
		   xmlns:dataDict="cn.superion.dataDict.*"
		   xmlns:controls="cn.superion.base.components.controls.*"
		   xmlns:util="cn.superion.materialDept.util.*">
	<fx:Script source="ModDeliverExesTallyOutas.as"/>
	<s:BorderContainer width="100%"
					   height="100%"
					   backgroundColor="0xE2E8E8">
		<s:VGroup width="100%"
				  height="100%"
				  gap="0">
			<util:ToolBar id="toolBar"
						  width="100%"
						  printClick="printClickHandler(event)"
						  expClick="expClickHandler(event)"
						  queryClick="toolBar_queryClickHandler(event)"
						  abandonClick="toolBar_abandonClickHandler(event)"
						  exitClick="exitClickHandler(event)"/>
			<controls:BarSubTitle title="病人记账作废"/>
			<s:BorderContainer width="100%"
							   height="100%"
							   backgroundColor="0xE2E8E8"
							   borderColor="#9ABBE6">
				<s:VGroup width="100%"
						  height="100%"
						  paddingLeft="5"
						  paddingBottom="5"
						  paddingRight="5"
						  paddingTop="5">
					<s:VGroup id="patsMaster"
							  width="100%">
						<s:HGroup width="100%"
								  height="50%"
								  verticalAlign="middle">
							<s:Label text="住 院 号"/>
							<s:TextInput id="inpNo"
										 width="20%"
										 keyUp="inpNo_keyUpHandler(event)"/>
							<s:Label text="病人姓名"/>
							<s:TextInput id="patientName"
										 width="20%"
										 editable="false"/>
							<s:Label text="病人性别"/>
							<s:TextInput id="sex"
										 width="20%"
										 editable="false"/>
							<s:Label text="年龄"/>
							<s:TextInput id="age"
										 width="10%"
										 restrict="0-9"
										 editable="false"/>
							<s:Label text="费别"/>
							<s:TextInput id="chargeType"
										 width="20%"
										 editable="false"/>
							<s:Label text="床号"/>
							<s:TextInput id="bedNo"
										 width="10%"
										 editable="false"/>
						</s:HGroup>
						<s:HGroup width="100%"
								  height="50%"
								  verticalAlign="middle">
							<s:Label text="科    室"/>
							<s:TextInput id="deptCode"
										 width="{inpNo.width}"
										 editable="false"/>
							<s:Label text="所属病区"/>
							<s:TextInput id="wardCode"
										 width="{patientName.width}"
										 editable="false"/>
							<s:Label text="申请医生"/>
							<s:TextInput id="consultingDoctor"
										 width="{sex.width}"
										 editable="false"/>
							<s:Label text="诊断"/>
							<s:TextInput id="admDiagnose"
										 width="100%"
										 editable="false"/>
							<s:Label text="余额"/>
							<s:TextInput id="prepaymentsLeft"
										 width="{bedNo.width}"
										 textAlign="right"
										 restrict="0-9"
										 text="{(Number(prepaymentsLeft.text)).toFixed(2)}"
										 editable="false"/>
						</s:HGroup>
					</s:VGroup>
					<controls:SuperDataGrid id="dataGridDetail"
											width="100%"
											height="100%"
											hasRowNo="true"
											styleName="dataGrid"
											format="{[,,,,,,'0.00','0.00',,]}"
											horizontalScrollPolicy="auto">
						<controls:columns>
							<mx:DataGridColumn headerText="选择"
											   width="50"
											   textAlign="left"
											   editable="false">
								<mx:itemRenderer>
									<fx:Component>
										<mx:CheckBox enabled="{data.refundSign!='1'}"
													 change="data.isSelected=this.selected"
													 selected="{data.isSelected}"
													 textAlign="center">
										</mx:CheckBox>

									</fx:Component>
								</mx:itemRenderer>
							</mx:DataGridColumn>
							<mx:DataGridColumn dataField="materialCode"
											   headerText="物资编码"
											   width="120"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="materialName"
											   headerText="物资名称"
											   width="160"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="materialSpec"
											   headerText="规格型号"
											   width="100"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="materialUnits"
											   headerText="单位"
											   width="60"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="amount"
											   headerText="数量"
											   width="80"
											   textAlign="right"
											   editable="false"/>
							<mx:DataGridColumn dataField="retailPrice"
											   headerText="售价"
											   width="80"
											   textAlign="right"
											   editable="false"/>
							<mx:DataGridColumn dataField="retailMoney"
											   headerText="金额"
											   width="100"
											   textAlign="right"
											   editable="false"/>
							<mx:DataGridColumn dataField="factoryName"
											   headerText="生产厂家"
											   width="170"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="availDate"
											   headerText="有效日期"
											   width="110"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="batch"
											   headerText="批号"
											   width="80"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="materialId"
											   headerText="物资ID"
											   editable="false"
											   visible="false"/>
							<mx:DataGridColumn dataField="materialCode"
											   headerText="物资分类"
											   editable="false"
											   visible="false"/>
							<mx:DataGridColumn dataField="accounter"
											   width="110"
											   headerText="记账人"
											   textAlign="left"
											   editable="false"
											   labelFunction="labelFun"/>
							<mx:DataGridColumn dataField="accountDate"
											   width="110"
											   headerText="记账日期"
											   textAlign="left"
											   editable="false"/>
							<mx:DataGridColumn dataField="deptCode"
											   headerText="记账科室"
											   textAlign="left"
											   width="110"
											   editable="false"
											   labelFunction="labelFun"/>
							<mx:DataGridColumn dataField="wardCode"
											   headerText="记账病区"
											   textAlign="left"
											   width="110"
											   editable="false"
											   labelFunction="labelFun"/>
							<mx:DataGridColumn dataField="refundSign"
											   width="80"
											   headerText="退费标志"
											   textAlign="left"
											   editable="false"
											   labelFunction="labelFun"/>
							<mx:DataGridColumn dataField="detailAutoId"
											   width="80"
											   visible="false"/>
							<mx:DataGridColumn dataField="patientId"
											   width="80"
											   visible="false"/>
						</controls:columns>
					</controls:SuperDataGrid>
					<mx:CheckBox id="ckAll"
								 width="5%"
								 label="全选"
								 textAlign="center"
								 change="ckAll_changeHandler(event)"/>
				</s:VGroup>
			</s:BorderContainer>
		</s:VGroup>
	</s:BorderContainer>
</mx:Module>
